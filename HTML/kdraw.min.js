var c,ctx,fill_color=[255,255,255,1],draw_stroke=!0,stroke_color=[0,0,0],text_size=12,text_font="Ariel",frame_rate=60,text_align="left",rect_mode="corner",ellipse_mode="center",mouseX=0,mouseY=0,pmouseX=0,pmouseY=0,mouseButton=0,frameCount=0,height,width,keyIsPressed=!1,mouseIsPressed=!1,keyCode,key={code:0},begunShape=!1,start=(new Date).getTime(),BLEND="blend",JAVA2D="",HSB="hsb",RGB="rgb",BLUR="blur",CLOSE="close",RADIUS="radius",CENTER="center",CORNER="corner",TOP="top",SQUARE="square",ROUND=
"round",UP=38,DOWN=40,LEFT=37,RIGHT=39,ENTER=13,BACKSPACE=8,ARROW="default",HAND="pointer";c=document.getElementById("kdraw");ctx=c.getContext("2d");height=parseInt(c.height);width=parseInt(c.width);loop();c.addEventListener("mousemove",function(a){var b=c.getBoundingClientRect();pmouseX=mouseX;pmouseY=mouseY;mouseX=a.clientX-b.left;mouseY=a.clientY-b.top});c.addEventListener("mousedown",function(a){mouseIsPressed=!0;mouseButton=a.button;"function"===typeof mousePressed&&mousePressed()});
c.addEventListener("mouseup",function(a){mouseIsPressed=!1;"function"===typeof mouseReleased&&mouseReleased();"function"===typeof mouseClicked&&mouseClicked();mouseButton=a.button});var Simple1DNoise=function(){for(var a=1,b=1,d=[],e=0;256>e;++e)d.push(Math.random());return{getVal:function(e){var f=e*b;e=Math.floor(f);f-=e;e&=255;f=f*f*(3-2*f);return(d[e]*(1-f)+d[e+1&255]*f)*a},setAmplitude:function(b){a=b},setScale:function(a){b=a}}},generator=new Simple1DNoise;
function style(){ctx.fillStyle="rgba("+fill_color[0]+","+fill_color[1]+","+fill_color[2]+","+fill_color[3]+")";ctx.strokeStyle=draw_stroke?"rgb("+stroke_color[0]+","+stroke_color[1]+","+stroke_color[2]+","+stroke_color[3]+")":"rgba(0,0,0,0)"}function filter(a,b){"blur"===a&&(ctx.filter="blur("+b+"px)")}
function fill(a,b,d,e){fill_color="object"===typeof a?void 0===a.alpha?void 0===a.green||void 0===a.blue?[a.red,a.red,a.red,1]:[a.red,a.green,a.blue,1]:[a.red,a.green,a.blue,a.alpha/255]:void 0===e?void 0===b||void 0===d?[a,a,a,1]:[a,b,d,1]:[a,b,d,e/255]}
function background(a,b,d){ctx.fillStyle="object"===typeof a?void 0===a.green||void 0===a.blue?"rgb("+a.red+","+a.red+","+a.red+")":"rgb("+a.red+","+a.green+","+a.blue+")":void 0===b||void 0===d?"rgb("+a+","+a+","+a+")":"rgb("+a+","+b+","+d+")";ctx.strokeRect(0,0,c.width,c.height);ctx.fillRect(0,0,c.width,c.height)}function noFill(){fill_color=[0,0,0,0]}function strokeCap(a){ctx.lineCap=a}
function stroke(a,b,d){stroke_color="object"===typeof a?void 0===a.green||void 0===a.blue?[a.red,a.red,a.red,1]:[a.red,a.green,a.blue,1]:void 0===b||void 0===d?[a,a,a,1]:[a,b,d,1];draw_stroke=!0}function noStroke(){draw_stroke=!1}function line(a,b,d,e){style();ctx.beginPath();ctx.moveTo(a,b);ctx.lineTo(d,e);ctx.stroke()}
function rect(a,b,d,e){style();"corner"===rect_mode?(ctx.fillRect(a,b,d,e),ctx.strokeRect(a,b,d,e)):"center"===rect_mode&&(ctx.fillRect(a-d/2,b-e/2,d,e),ctx.strokeRect(a-d/2,b-e/2,d,e))}function rectMode(a){rect_mode=a}function triangle(a,b,d,e,g,f){style();ctx.beginPath();ctx.moveTo(a,b);ctx.lineTo(d,e);ctx.lineTo(g,f);ctx.lineTo(a,b);ctx.fill();ctx.stroke()}
function ellipse(a,b,d,e){style();ctx.beginPath();"center"===ellipse_mode?ctx.ellipse(a,b,Math.abs(d/2),Math.abs(e/2),0,0,2*Math.PI):"radius"===ellipse_mode&&ctx.ellipse(a,b,Math.abs(d),Math.abs(e),0,0,2*Math.PI);ctx.fill();ctx.stroke()}function ellipseMode(a){}function arc(a,b,d,e,g,f){style();ctx.beginPath();ctx.ellipse(a,b,Math.abs(d/2),Math.abs(e/2),0,Math.PI/180*g,Math.PI/180*f);ctx.fill();ctx.stroke()}
function quad(a,b,d,e,g,f,h,k){style();ctx.beginPath();ctx.moveTo(a,b);ctx.lineTo(d,e);ctx.lineTo(g,f);ctx.lineTo(h,k);ctx.lineTo(a,b);ctx.fill();ctx.stroke()}function point(a,b){style();ctx.beginPath();ctx.ellipse(a,b,1,1,0,0,2*Math.PI);ctx.stroke()}function beginShape(){style();ctx.beginPath();begunShape=!0}function vertex(a,b){begunShape?(ctx.moveTo(a,b),begunShape=!1):ctx.lineTo(a,b)}function curveVertex(a,b){begunShape?(ctx.moveTo(a,b),begunShape=!1):ctx.lineTo(a,b)}
function bezier(a,b,d,e,g,f,h,k){ctx.beginPath();ctx.moveTo(a,b);ctx.bezierCurveTo(d,e,g,f,h,k);ctx.stroke()}function bezierVertex(a,b,d,e,g,f){ctx.bezierCurveTo(a,b,d,e,g,f)}function endShape(a){"close"===a&&ctx.closePath();ctx.fill();ctx.stroke()}function text(a,b,d){style();a=a.toString().split("\n");ctx.textAlign=text_align;ctx.textBaseline="middle";for(var e=0;e<a.length;e++)ctx.font=text_size+"px "+text_font+",sans-serif",ctx.fillText(a[e],b,d+e*text_size)}function textSize(a){text_size=a}
function textWidth(a){return ctx.measureText(a).width}document.onkeydown=function(a){keyCode=key.code=a.which;keyIsPressed=!0;"function"===typeof keyPressed&&keyPressed()};document.onkeyup=function(a){keyCode=key.code=a.which;keyIsPressed=!1;"function"===typeof keyReleased&&keyReleased()};document.onkeypress=function(a){keyCode=key.code=a.which;"function"===typeof keyTyped&&keyTyped()};function random(a,b){return Math.random()*(b-a)+a}function constrain(a,b,d){return a>d?d:a<b?b:a}
function max(a,b){return a>b?a:b}function log(a){return Math.log(a)}function sq(a){return Math.pow(a,2)}function round(a){return Math.round(a)}function floor(a){return Math.floor(a)}function dist(a,b,d,e){return Math.sqrt(Math.pow(a-d,2)+Math.pow(b-e,2))}function min(a,b){return a<b?a:b}function abs(a){return Math.abs(a)}function pow(a,b){return Math.pow(a,b)}function sqrt(a){return Math.sqrt(a)}function ceil(a){return Math.ceil(a)}function noise(a){return generator.getVal(a)}
function atan2(a,b){return 180*Math.atan2(a,b)/Math.PI}function PVector(a,b){this.x=a;this.y=b}PVector.prototype.add=function(a){this.x+=a.x;this.y+=a.y};PVector.prototype.set=function(a){this.x=a.x;this.y=a.y};PVector.prototype.mult=function(a){this.x*=a;this.y*=a};PVector.prototype.div=function(a){this.x/=a;this.y/=a};PVector.prototype.mag=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))};function cos(a){return Math.cos(a)}function tan(a){return Math.tan(a)}
function sin(a){return Math.sin(a)}function day(){return(new Date).getDate()}function month(){return(new Date).getMonth()}function year(){return(new Date).getFullYear()}function hour(){return(new Date).getHours()}function minute(){return(new Date).getMinutes()}function second(){return(new Date).getSeconds()}function millis(){return(new Date).getTime()-start}function println(a){console.log(a)}function print(a){console.log(a)}function debug(a){console.log(a)}
function get(){var a=new Image;a.src=c.toDataURL();return a}function smooth(){}function textLeading(){}function textAlign(a){text_align=a}function createGraphics(a,b,d){return c.toDataURL()}function textFont(a){text_font=a}function createFont(a){return a}function cursor(a){c.style.cursor=void 0===a?"default":a}function noCursor(){c.style.cursor="none"}function image(a,b,d){ctx.drawImage(a,b,d)}function map(a,b,d,e,g){return e+(a-b)/(d-b)*(g-e)}
function color(a,b,d,e){return{red:a,green:b,blue:d,alpha:e}}function frameRate(a){frame_rate=a}function strokeWeight(a){ctx.lineWidth=a}function pushMatrix(){ctx.save()}function popMatrix(){ctx.restore()}function resetMatrix(){ctx.resetTransform()}function rotate(a){ctx.rotate(a*Math.PI/180)}function scale(a,b){void 0===b?ctx.scale(a,a):ctx.scale(a,b)}function blendColor(a,b,d){return[(255-b[3])/255*a[0]+b[3]/255*b[0],(255-b[3])/255*a[1]+b[3]/255*b[1],(255-b[3])/255*a[2]+b[3]/255*b[2]]}
function lerpColor(a,b,d){return[a[0]*(1-d)+b[0]*d,a[1]*(1-d)+b[1]*d,a[2]*(1-d)+b[2]*d]}function translate(a,b){ctx.translate(a,b)}function red(a){return a.red}function green(a){return a.green}function blue(a){return a.blue}function colorMode(){}function loop(){"function"===typeof draw&&draw();frameCount++;setTimeout(loop,1E3/frame_rate)};
